<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
      // Меню и цены ингредиентов
      let menu = [
        {
          name: "ПИЦЦА ГАВАЙСКАЯ",
          ingredients: [
            "тесто",
            "ветчина",
            "куриная грудка",
            "ананас консервированный",
            "моцарелла",
            "соус",
          ],
          weight: 750,
          size: 35,
          cookingTime: 20,
          price: 880,
        },
        {
          name: "РОЛЛ ФИЛАДЕЛЬФИЯ",
          ingredients: ["нори", "рис", "лосось", "огурец", "сыр"],
          weight: 280,
          quantity: 8,
          cookingTime: 20,
          price: 780,
        },
        {
          name: "ЧИКЕНБУРГЕР",
          ingredients: [
            "булочка Бриошь",
            "котлета стрипс куриная",
            "сыр чеддер",
            "лист салата",
            "помидор",
            "маринованные огурцы",
            "соус коктейльный",
          ],
          weight: 370,
          cookingTime: 20,
          price: 715,
        },
        {
          name: "ТОМ ЯМ",
          ingredients: [
            "рисовая лапша",
            "креветка",
            "шампиньоны",
            "помидоры черри",
            "лимон",
          ],
          weight: 350,
          cookingTime: 20,
          price: 900,
        },
      ];

      let ingredients = [
        "тесто",
        "ветчина",
        "куриная грудка",
        "ананас консервированный",
        "моцарелла",
        "соус",
        "нори",
        "рис",
        "лосось",
        "огурец",
        "сыр",
        "булочка Бриошь",
        "котлета стрипс куриная",
        "сыр чеддер",
        "лист салата",
        "маринованные огурцы",
        "соус коктейльный",
        "рисовая лапша",
        "креветка",
        "шампиньоны",
        "помидоры черри",
        "лимон",
      ];
      let ingredientsPrice = {
        тесто: 70,
        ветчина: 150,
        "куриная грудка": 200,
        "ананас консервированный": 100,
        моцарелла: 100,
        соус: 45,
        нори: 70,
        рис: 100,
        лосось: 250,
        огурец: 50,
        сыр: 180,
        "булочка Бриошь": 40,
        "котлета стрипс куриная": 90,
        "сыр чеддер": 200,
        "лист салата": 70,
        помидор: 40,
        "маринованные огурцы": 90,
        "соус коктейльный": 50,
        "рисовая лапша": 80,
        креветка: 250,
        шампиньоны: 140,
        "помидоры черри": 140,
        лимон: 50,
      };
      //задание 1. Перепишите цикл, который считает себестоимость блюда из прошлых заданий на функцию, которая использует `reduce`
      function calculateNetCost(ingredients, ingredientsPrices) {
        return ingredients.reduce((totalCost, ingredient) => {
          return totalCost + (ingredientsPrices[ingredient] || 0);
        }, 0);
      }
      menu.forEach((dish) => {
        dish.netCost = calculateNetCost(dish.ingredients, ingredientsPrice);
      });
      console.log(menu);

      //задание 2. Используйте `map` , чтобы получить массив с объектами в которых содержится только название и стоимость каждого блюда
      let menuWithPrices = menu.map((dish) => {
        return { name: dish.name, price: dish.price };
      });
      console.log(menuWithPrices);

      //задание 3. Определите, есть ли в меню хоть одно вегетарианское блюдо, используя `some`
      let notVegetarianIngredients = [
        "ветчина",
        "куриная грудка",
        "лосось",
        "котлета стрипс куриная",
        "креветка",
      ];
      let hasVegetarianDish = menu.some((dish) => {
        return !dish.ingredients.some((ingredient) =>
          notVegetarianIngredients.includes(ingredient)
        );
      });
      console.log(
        `В меню ${hasVegetarianDish ? "есть" : "нет"} вегетарианского блюда`
      );

      //задание 4. Определите, полностью ли у вас вегетарианское меню с помощью `every`
      let notVegIngredients = [
        "ветчина",
        "куриная грудка",
        "лосось",
        "котлета стрипс куриная",
        "креветка",
      ];
      function isVegetarianDish(dish) {
        return !dish.ingredients.some((ingredient) =>
          notVegetarianIngredients.includes(ingredient)
        );
      }
      // Проверяем, все ли блюда в меню вегетарианские
      let isMenuFullyVegetarian = menu.every(isVegetarianDish);
      console.log(
        `Меню ${isMenuFullyVegetarian ? "полностью" : "не"} вегетарианское`
      );

      //задание 5. Создайте массив с вегетарианскими блюдами с помощью filter
      {
        let notVegetarianIngredients = [
          "ветчина",
          "куриная грудка",
          "лосось",
          "котлета стрипс куриная",
          "креветка",
        ];
        // Функция проверяет, является ли блюдо вегетарианским
        function isVegetarianDish(dish) {
          return !dish.ingredients.some((ingredient) =>
            notVegetarianIngredients.includes(ingredient)
          );
        }
        // Создаём массив вегетарианских блюд
        let vegetarianMenu = menu.filter(isVegetarianDish);

        console.log(vegetarianMenu);
      }
    </script>
  </head>
  <body></body>
</html>
